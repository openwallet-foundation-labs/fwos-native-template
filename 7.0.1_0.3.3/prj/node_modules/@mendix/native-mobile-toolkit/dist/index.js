module.exports=function(e){var i={};function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(i){return e[i]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=7)}([function(e,i){e.exports=require("path")},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.android=i.iOS=i.splashScreenImageConfig=i.roundedAppIconConfig=i.appIconConfig=i.mxUtilTimeout=i.gitDefaults=i.supportedToolkitConfigurationVersion=i.defaultFontsFromVectorIcons=i.defaultRequiredFonts=i.preReleaseChannels=i.devAppIdentifierAppend=i.devAppNameAppend=i.relativeReleasesListPath=i.relativeKnownDependenciesPath=i.relativeNativeDependenciesPath=i.relativeDependenciesPath=i.relativeTemplateVersionPath=i.mendixVersionPath=i.relativeAppCenterBuildConfigPath=i.devAppKey=i.supportsMobileToolkitKey=i.codePushKey=i.defaultDeploymentTarget=i.buildPollIntervalInMs=i.defaultGitHubTemplateRepository=i.defaultGitHubTemplateRepositoryName=i.defaultGitHubTemplateOwner=i.relativeProjectBundlePath=i.logFileName=i.currentZipBallDownloadPath=i.zipBallDownloadPath=i.zipBallName=i.currentZipBallName=i.BuildPlatform=i.OS=i.BuildPlatformException=void 0;const n=t(2);class o extends Error{}var r;i.BuildPlatformException=o,function(e){e.Android="android",e.Ios="ios"}(r=i.OS||(i.OS={}));i.BuildPlatform=class{constructor(e){if(this.isIos=!1,this.isAndroid=!1,void 0===e)this.isIos=this.isAndroid=!0;else if(e===r.Ios)this.isIos=!0;else{if(e!==r.Android)throw new o(`'${e}' is not supported. It has to be either 'ios' or 'android'`);this.isAndroid=!0}}get isBoth(){return this.isAndroid&&this.isIos}},i.currentZipBallName="currentRepo",i.zipBallName="repo",i.zipBallDownloadPath=`${n.tmpdir()}/${i.zipBallName}.zip`,i.currentZipBallDownloadPath=`${n.tmpdir()}/${i.currentZipBallName}.zip`,i.logFileName="native_builder.log",i.relativeProjectBundlePath="deployment/native/bundle",i.defaultGitHubTemplateOwner="mendix",i.defaultGitHubTemplateRepositoryName="native-template",i.defaultGitHubTemplateRepository=`${i.defaultGitHubTemplateOwner}/${i.defaultGitHubTemplateRepositoryName}`,i.buildPollIntervalInMs=3e4,i.defaultDeploymentTarget="Production",i.codePushKey="CODE_PUSH_KEY",i.supportsMobileToolkitKey="SUPPORTS_MOBILE_TOOLKIT",i.devAppKey="IS_DEV_APP",i.relativeAppCenterBuildConfigPath="appcenter-build-config.json",i.mendixVersionPath="mendix_version.json",i.relativeTemplateVersionPath=".template_version",i.relativeDependenciesPath=".dependencies",i.relativeNativeDependenciesPath=".native_dependencies",i.relativeKnownDependenciesPath=".mx/known_dependencies.json",i.relativeReleasesListPath=".mx/releases_list.json",i.devAppNameAppend="Dev-",i.devAppIdentifierAppend=".developerapp",i.preReleaseChannels=["master","beta","alpha"],i.defaultRequiredFonts=["glyphicons-halflings-regular.ttf"],i.defaultFontsFromVectorIcons=["AntDesign.ttf","Entypo.ttf","EvilIcons.ttf","Feather.ttf","FontAwesome.ttf","FontAwesome5_Brands.ttf","FontAwesome5_Regular.ttf","FontAwesome5_Solid.ttf","Fontisto.ttf","Foundation.ttf","Ionicons.ttf","MaterialCommunityIcons.ttf","MaterialIcons.ttf","Octicons.ttf","SimpleLineIcons.ttf","Zocial.ttf"],i.supportedToolkitConfigurationVersion=2,i.gitDefaults={defaultBranchName:"master",developerBranchName:"developer"},i.mxUtilTimeout=18e5,i.appIconConfig={logCategory:"app-icon",type:"App icon",size:"1024x1024"},i.roundedAppIconConfig={...i.appIconConfig,type:"Rounded app icon"},i.splashScreenImageConfig={logCategory:"splash-screen",type:"Splash screen image",size:"1440x2560"},i.iOS={sourceRelativeBundlePath:"iOS/index.ios.bundle",sourceRelativeAssetsPath:"iOS/assets",appIcons:[{name:"notification@1x",size:"20x20",scale:"1x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"notification@2x",size:"20x20",scale:"2x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"notification@2x",size:"20x20",scale:"2x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"notification@3x",size:"20x20",scale:"3x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"settings@1x",size:"29x29",scale:"1x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"settings@2x",size:"29x29",scale:"2x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"settings@2x",size:"29x29",scale:"2x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"settings@3x",size:"29x29",scale:"3x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"spotlight@1x",size:"40x40",scale:"1x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"spotlight@2x",size:"40x40",scale:"2x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"spotlight@2x",size:"40x40",scale:"2x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"spotlight@3x",size:"40x40",scale:"3x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"app@2x",size:"60x60",scale:"2x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"app@3x",size:"60x60",scale:"3x",platform:r.Ios,idiom:"iphone",type:"icon"},{name:"ipadapp@1x",size:"76x76",scale:"1x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"ipadapp@2x",size:"76x76",scale:"2x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"ipadproapp@2x",size:"83.5x83.5",scale:"2x",platform:r.Ios,idiom:"ipad",type:"icon"},{name:"appstore@1x",size:"1024x1024",scale:"1x",platform:r.Ios,idiom:"ios-marketing",type:"icon"}],splashScreenImages:[{name:"splash@1x",size:"640x960",scale:"1x",platform:r.Ios,idiom:"universal",type:"splashScreen"},{name:"splash@2x",size:"375x667",scale:"2x",platform:r.Ios,idiom:"universal",type:"splashScreen"},{name:"splash@3x",size:"414x736",scale:"3x",platform:r.Ios,idiom:"universal",type:"splashScreen"}],gitHub:{relativeBundlePath:"ios/Bundle/index.ios.bundle",relativeInfoPlistPath:"ios/nativeTemplate/Info.plist",relativeEntitlementsPath:"ios/nativeTemplate/nativeTemplate.entitlements",relativeConfigPath:"ios/Config/config.xcconfig",relativeDevConfigPath:"ios/Dev/Config/config.xcconfig",relativeXcodeProjectFilePath:"ios/nativeTemplate.xcodeproj/project.pbxproj",relativeFirebaseConfigPath:"ios/GoogleService-Info.plist",relativeAppIconPath:"ios/nativeTemplate/Images.xcassets/AppIcon.appiconset",relativeSplashScreenPath:"ios/nativeTemplate/Images.xcassets/SplashScreen.imageset"},infoPlistKey:{runtimeUrl:"Runtime url",displayName:"CFBundleDisplayName",version:"CFBundleShortVersionString",build:"CFBundleVersion",backgroundModes:"UIBackgroundModes",bundleUrlTypes:"CFBundleURLTypes",bundleTypeRole:"CFBundleTypeRole",bundleUrlName:"CFBundleURLName",bundleUrlSchemes:"CFBundleURLSchemes",requiresFullScreen:"UIRequiresFullScreen",orientations:"UISupportedInterfaceOrientations"},xcodeProjectKey:{bundleIdentifier:"PRODUCT_BUNDLE_IDENTIFIER",deviceFamily:"TARGETED_DEVICE_FAMILY",provisioningProfileSpecifier:"PROVISIONING_PROFILE_SPECIFIER",codeSignIdentity:"CODE_SIGN_IDENTITY",codesSignStyle:"CODE_SIGN_STYLE",developmentTeam:"DEVELOPMENT_TEAM"},configVariable:{runtimeUrl:"RUNTIME_URL",displayName:"BUNDLE_DISPLAY_NAME",bundleIdentifier:"BUNDLE_IDENTIFIER"},schemes:{developer:"Dev",production:"nativeTemplate"},xcodeSourceFilesGroup:"NativeTemplate",xcodeFontFilesGroup:"Fonts",platform:"React-Native"},i.android={sourceRelativeBundlePath:"android/assets/index.android.bundle",sourceRelativeAssetsPath:"android/res",appIcons:[{name:"mipmap-mdpi/ic_launcher",size:"48x48",scale:"1x",platform:r.Android,type:"icon"},{name:"mipmap-hdpi/ic_launcher",size:"48x48",scale:"1.5x",platform:r.Android,type:"icon"},{name:"mipmap-xhdpi/ic_launcher",size:"48x48",scale:"2x",platform:r.Android,type:"icon"},{name:"mipmap-xxhdpi/ic_launcher",size:"48x48",scale:"3x",platform:r.Android,type:"icon"},{name:"mipmap-xxxhdpi/ic_launcher",size:"48x48",scale:"4x",platform:r.Android,type:"icon"}],appRoundedIcons:[{name:"mipmap-mdpi/ic_launcher_round",size:"48x48",scale:"1x",platform:r.Android,type:"icon"},{name:"mipmap-hdpi/ic_launcher_round",size:"48x48",scale:"1.5x",platform:r.Android,type:"icon"},{name:"mipmap-xhdpi/ic_launcher_round",size:"48x48",scale:"2x",platform:r.Android,type:"icon"},{name:"mipmap-xxhdpi/ic_launcher_round",size:"48x48",scale:"3x",platform:r.Android,type:"icon"},{name:"mipmap-xxxhdpi/ic_launcher_round",size:"48x48",scale:"4x",platform:r.Android,type:"icon"}],splashScreenImages:[{name:"drawable-hdpi/splash",size:"480x854",scale:"1.5x",platform:r.Android,type:"splashScreen"},{name:"drawable-xhdpi/splash",size:"480x854",scale:"2x",platform:r.Android,type:"splashScreen"},{name:"drawable-xxhdpi/splash",size:"480x854",scale:"3x",platform:r.Android,type:"splashScreen"}],gitHub:{relativeBundlePath:"android/app/src/main/assets/index.android.bundle",relativeBuildGradlePath:"android/app/build.gradle",relativeAppManifestPath:{main:"android/app/src/main/AndroidManifest.xml",dev:"android/app/src/dev/AndroidManifest.xml"},relativeStringsFilePath:"android/app/src/main/res/values/strings.xml",relativeDevStringsFilePath:"android/app/src/dev/res/values/strings.xml",relativeAppIconPath:"android/app/src/main/res",relativeFirebaseConfigPath:"android/app/google-services.json",relativeRuntimeUrlFilePath:"android/app/src/main/res/raw/runtime_url",relativeSplashScreenPath:"android/app/src/main/res"},buildGradleKey:{applicationId:"applicationId",versionName:"versionName",versionCode:"versionCode"},androidManifestKey:{orientation:"android:screenOrientation",launchMode:"android:launchMode"},stringsFileAppNameKey:"app_name",supportsScreensKey:"supports-screens",googleMapsApiKey:"com.google.android.geo.API_KEY",buildVariants:{developerDebug:"devDebug",developerRelease:"devRelease",productionDebug:"appstoreDebug",productionRelease:"appstoreRelease"},mainActivity:"com.mendix.nativetemplate.MainActivity",platform:"React-Native"}},function(e,i){e.exports=require("os")},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__exportStar||function(e,i){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(i,t)||n(i,e,t)};Object.defineProperty(i,"__esModule",{value:!0}),o(t(20),i),o(t(21),i),o(t(22),i),o(t(23),i),o(t(24),i),o(t(25),i)},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return o(i,e),i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.removeArrayItemsFromPlistItem=i.updatePlistItemValues=i.updatePermissions=i.updateFonts=i.updateDeepLinkScheme=i.updateOrientation=i.updateCodeSignStyle=i.updateCodeSignIdentity=i.updateProvisioningProfileSpecifier=i.updateDevelopmentTeam=i.updateDeviceFamily=i.isCommentKey=i.removePlistItems=i.addPlistItems=i.updatePlistContent=i.plistToPrimitive=i.createPlistContent=i.retrieveBuildSettings=i.addToBuildSettings=i.addHeaderFile=i.addEntitlementFile=i.removeResourceFileToAllTargets=i.addResourceFileToAllTargets=void 0;const s=r(t(0)),d=a(t(12)),p=a(t(13)),l=a(t(14)),c=r(t(15)),u=t(5),m=t(3);d.default.project.prototype.parseFileContent=function(e){return this.hash=p.default.parse(e),this.hash};const f=u.LoggerProvider.logger("xcode");function v(e,i,t){const n=d.default.project(""),o=n.parseFileContent(e);n.addToBuildSettings(i,t);return new l.default(o).writeSync()}function h(e){return c.build(e)}function g(e){return c.parse(e)}function S(e,i){return h(i(g(e)))}function O(e,i){return{...Object(e),...i}}function A(e,i){return Object.keys(e).filter(e=>!i.includes(e)).reduce((i,t)=>({...i,[t]:Object(e)[t]}),{})}function T(e){return e.endsWith("_comment")}function E(e){return Object.keys(e.pbxNativeTargetSection()).filter(e=>!T(e))}function I(e,i){let t=e.findPBXGroupKey({name:i});return t||(t=e.findPBXGroupKey({path:i})),t}i.addResourceFileToAllTargets=function(e,i,t){const n=d.default.project(""),o=n.parseFileContent(e),r=I(n,t),a=n.addFile(i,r);return a?(E(n).forEach(e=>{a.uuid=n.generateUuid(),a.target=e,n.addToPbxBuildFileSection(a),n.addToPbxResourcesBuildPhase(a)}),new l.default(o).writeSync()):void f.info(`Skipping project configuration update as ${t}/${i} has already been included`)},i.removeResourceFileToAllTargets=function(e,i,t){const n=d.default.project(""),o=n.parseFileContent(e),r=I(n,t),a=n.removeFile(i,r);return E(n).forEach(e=>{a.target=e,n.removeFromPbxBuildFileSection(a),n.removeFromPbxResourcesBuildPhase(a)}),new l.default(o).writeSync()},i.addEntitlementFile=function(e,i,t){const n=d.default.project(""),o=n.parseFileContent(e),r=I(n,t);return n.addFile(i,r)?(n.addToBuildSettings("CODE_SIGN_ENTITLEMENTS",i),new l.default(o).writeSync()):void f.info(`Skipping project configuration update as ${t}/${s.basename(i)} has already been included`)},i.addHeaderFile=function(e,i,t){const n=d.default.project(""),o=n.parseFileContent(e),r=I(n,t);return n.addFile(i,r)?new l.default(o).writeSync():void f.info(`Skipping project configuration update as ${t}/${s.basename(i)} has already been included`)},i.addToBuildSettings=v,i.retrieveBuildSettings=function(e){const i=d.default.project("");return i.parseFileContent(e),Object.entries(i.pbxXCBuildConfigurationSection()).filter(([e,i])=>!T(e)).map(([e,{buildSettings:i}])=>i)},i.createPlistContent=h,i.plistToPrimitive=g,i.updatePlistContent=S,i.addPlistItems=O,i.removePlistItems=A,i.isCommentKey=T,i.updateDeviceFamily=function(e,i){var t,n;return null!==(n=null===(t=v(e,"TARGETED_DEVICE_FAMILY",`"${function(e){if(e.phone&&e.tablet)return"1,2";if(e.phone)return"1";if(e.tablet)return"2";return"1"}(i)}"`))||void 0===t?void 0:t.toString())&&void 0!==n?n:e},i.updateDevelopmentTeam=function(e,i){var t,n;return null!==(n=null===(t=v(e,"DEVELOPMENT_TEAM",""+i))||void 0===t?void 0:t.toString())&&void 0!==n?n:e},i.updateProvisioningProfileSpecifier=function(e,i){var t,n;return null!==(n=null===(t=v(e,"PROVISIONING_PROFILE_SPECIFIER",`"${i}"`))||void 0===t?void 0:t.toString())&&void 0!==n?n:e},i.updateCodeSignIdentity=function(e,i){var t,n;return null!==(n=null===(t=v(e,"CODE_SIGN_IDENTITY",`"${i}"`))||void 0===t?void 0:t.toString())&&void 0!==n?n:e},i.updateCodeSignStyle=function(e,i="Manual"){var t,n;return null!==(n=null===(t=v(e,"CODE_SIGN_STYLE",""+i))||void 0===t?void 0:t.toString())&&void 0!==n?n:e},i.updateOrientation=function(e,i){const t=function(e){const i=[];e.portrait&&i.push("UIInterfaceOrientationPortrait","UIInterfaceOrientationPortraitUpsideDown");e.landscape&&i.push("UIInterfaceOrientationLandscapeLeft","UIInterfaceOrientationLandscapeRight");return i}(i);return S(e,e=>O(e,{UISupportedInterfaceOrientations:t}))},i.updateDeepLinkScheme=function(e,i){return S(e,e=>{const t="CFBundleURLTypes";return i.length?O(e,{[t]:[{CFBundleTypeRole:"Editor",CFBundleURLName:i,CFBundleURLSchemes:[i]}]}):A(e,[t])})},i.updateFonts=function(e,i,t){return S(e,e=>({...e,UIAppFonts:e.UIAppFonts.filter(e=>!t.includes(e)).concat(i)}))},i.updatePermissions=function(e,i){const t=Object.values(m.iosPermissions).map(e=>e.name),n=g(e),o=Object.entries(n).filter(([e])=>!i[e]&&t.includes(e)).map(([e])=>e),r=Object.entries(i).filter(([e])=>!o.includes(e)).reduce((e,[i,t])=>({...e,[i]:t}),{});return h({...A(n,o),...r})},i.updatePlistItemValues=function(e,i,t){var n;return O(e,{[i]:(null!==(n=Object(e)[i])&&void 0!==n?n:[]).filter(e=>!t.includes(e)).concat(t)})},i.removeArrayItemsFromPlistItem=function(e,i,t){var n;const o=(null!==(n=Object(e)[i])&&void 0!==n?n:[]).filter(e=>!t.includes(e));return o.length>0?O(e,{[i]:o}):A(e,[i])}},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return o(i,e),i};Object.defineProperty(i,"__esModule",{value:!0}),i.loggerTransportFactory=i.LoggerProvider=i.LogLevel=i.LoggerType=void 0;const a=r(t(2)),s=t(0),d=t(16),p=r(t(17)),l=t(18),c=t(19),u=t(1);var m,f;!function(e){e.File="file",e.Console="console"}(m=i.LoggerType||(i.LoggerType={})),function(e){e.info="info",e.warn="warn",e.error="error"}(f=i.LogLevel||(i.LogLevel={}));class v{static logger(...e){return new c.Logger(()=>v.instance.get().child({level:this.logLevel,tags:e}))}static setup(e,t=f.info,n,o){void 0!==this.instance.get()&&console.warn(' Logger has already been set. Make sure to call "LoggerProvider.setup" only once. Error?'),this.type=e,this.logLevel=t,this.instance.set(p.default.createLogger({level:this.logLevel,levels:{[c.newLineLogLevel.name]:0,...p.default.config.npm.levels},transports:i.loggerTransportFactory(e,n,o)})),p.default.addColors({...p.default.config.npm.colors,[c.newLineLogLevel.name]:c.newLineLogLevel.color})}static _type(){return this.type}static _reset(){this.instance.set(void 0)}}i.LoggerProvider=v,v.instance=new class{get(){return this._logger}set(e){this._logger=e}};function h(e){return p.format(i=>{const{tags:t,timestamp:n,message:o,level:r}=i;if(r===c.newLineLogLevel.name)return e.type===m.Console&&(i[l.MESSAGE]="",i);const a=e.type===m.Console?o:d.inspect(o,!1,2);return i[l.MESSAGE]=`[${t.join("][")}] ${a}`,e.type===m.Console||(i[l.MESSAGE]=`${n}: (${r}) ${i[l.MESSAGE]}`),i})()}i.loggerTransportFactory=function(e,i,t){const{combine:n,colorize:o,timestamp:r}=p.format;switch(e){case m.File:return new p.default.transports.File({filename:s.join(null!=i?i:a.homedir(),null!=t?t:u.logFileName),options:{flags:"w"},format:n(r(),h({type:e}))});case m.Console:default:return new p.default.transports.Console({format:n(o({message:!0}),h({type:e}))})}}},function(e,i,t){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),i.FileBusyError=i.FatalErrorWithLog=i.FatalError=i.BaseError=i.ErrorLevel=void 0,function(e){e.Fatal="fatal",e.Recoverable="recoverable"}(n=i.ErrorLevel||(i.ErrorLevel={}));class o extends Error{constructor(e,i){super(e),this.level=i}}i.BaseError=o;class r extends o{constructor(e){super(e,n.Fatal)}}i.FatalError=r;i.FatalErrorWithLog=class extends r{constructor(e,i){super(e),this.logs=i}};i.FileBusyError=class extends r{constructor(e,i){super(e),this.filePath=i}}},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return o(i,e),i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.nativeDependenciesConfigMappersFactory=i.capabilitiesMappersFactory=i.androidImagesMappersFactory=i.iOSImagesMappersFactory=i.fontsMappersFactory=i.firebaseConfigurationMappersFactory=i.localNotificationsConfigurationMappersFactory=i.permissionsMappersFactory=i.configure=void 0;const s=r(t(0)),d=t(8),p=a(t(9)),l=a(t(10)),c=t(11),u=t(4),m=t(1),f=t(26),v=t(5),h=t(35),g=t(37),S=t(6),O=t(3);async function A({configPath:e,templateBaseDir:i="",log:t}){var n,o,r,a,d,p,l,u,v,O,A,y,D,F,L;null==t||t.info("begin...");const x=function(e=""){return i=>s.normalize(s.join(e,i))}(i),U=null!==(o=null===(n=b(x("./package.json")))||void 0===n?void 0:n.version)&&void 0!==o?o:"*";null==t||t.info("Native Template version: "+U);const B=b(e);if(!B)return void(null==t||t.error("Failed trying to retrieve configuration from "+e));const w=function(e,i){var t,n,o;try{const o=e.configVersion||1;if(o===m.supportedToolkitConfigurationVersion)return e;const r=g.combineConfigurationConverters(o,m.supportedToolkitConfigurationVersion,{1:R})(e);return null===(t=null==i?void 0:i.log)||void 0===t||t.info(`Template configuration was migrated from v${e.configVersion} to v${r.configVersion}`),null===(n=null==i?void 0:i.log)||void 0===n||n.info(r),r}catch(e){throw null===(o=null==i?void 0:i.log)||void 0===o||o.error("You may be using an outdated version of the toolkit. Consider running 'npm install' at least once."),new S.FatalError(e)}}(B,{log:t}),j=await I({android:null!==(d=null===(a=null===(r=w.capabilities)||void 0===r?void 0:r.firebaseAndroid)||void 0===a?void 0:a.enabled)&&void 0!==d&&d,ios:null!==(u=null===(l=null===(p=w.capabilities)||void 0===p?void 0:p.firebaseIos)||void 0===l?void 0:l.enabled)&&void 0!==u&&u},{log:t,formatPath:x},U),V=await P({log:t,formatPath:x}),$=await N({log:t,formatPath:x}),q=await _({log:t,formatPath:x}),k=await C({log:t,formatPath:x}),G=[...w.appName?[f.androidAppNameMapper(w.appName),f.iOSAppNameMapper(w.appName),f.iOSDevAppNameMapper(`${m.devAppNameAppend}${w.appName}`),f.androidDevAppNameMapper(`${m.devAppNameAppend}${w.appName}`)]:[],...w.appIdentifier?[f.iOSIdentifierMapper(w.appIdentifier),f.androidIdentifierMapper(w.appIdentifier)]:[],...w.bundleName?[f.iOSBundleNameMapper(w.bundleName.main),f.iOSBundleNameMapperDev(w.bundleName.dev)]:[],...w.appVersion&&w.buildNumber?[f.iOSVersionAndBuildMapper(w.appVersion,+w.buildNumber),f.androidVersionAndBuildMapper(w.appVersion,+w.buildNumber)]:[],...w.runtimeUrl?[f.iOSRuntimeUrlMapper(w.runtimeUrl),f.androidRuntimeUrlMapper(w.runtimeUrl)]:[],...w.orientation?[f.iOSDeviceOrientationMapper(w.orientation),f.androidDeviceOrientationMapper(w.orientation),f.androidDevDeviceOrientationMapper(w.orientation)]:[],...w.deviceTarget?[f.iOSFullScreenModeMapper(w.deviceTarget),f.iOSDeviceFamilyMapper(w.deviceTarget),f.androidSupportedScreensMapper(w.deviceTarget),f.androidDevSupportedScreensMapper(w.deviceTarget)]:[],...M(null!==(v=w.capabilities)&&void 0!==v?v:{}),...E(null!==(F=!0===(null===(A=null===(O=w.capabilities)||void 0===O?void 0:O.pushNotifications)||void 0===A?void 0:A.enabled)||(null===(D=null===(y=w.capabilities)||void 0===y?void 0:y.localNotifications)||void 0===D?void 0:D.enabled))&&void 0!==F&&F,U),...j,...V,...$,...q,...T(null!==(L=w.permissions)&&void 0!==L?L:[]),...k];h.executeMappers(G,e=>c.readFileSync(x(e)).toString(),(e,i)=>c.writeFileSync(x(e),i)),null==t||t.info("done.")}function T(e,i){return[f.androidPermissionsMapper(e.filter(O.isAndroidPermission)),f.iOSPermissionsMapper(e.filter(O.isIosPermission))]}function E(e,i){return[(e?f.iOSAddBackgroundModesMapper:f.iOSRemoveBackgroundModesMapper)(["notification"]),(e?f.iOSAddEntitlementsMapper:f.iOSRemoveEntitlementsMapper)(["notification"]),(e?f.androidIncludeLocalNotificationsManifestConfigMapperForTemplateVersion:f.androidRemoveLocalNotificationsManifestConfigMapperForTemplateVersion)(i)]}async function I(e,i,t="*"){var n;const o=null!==(n=null==i?void 0:i.formatPath)&&void 0!==n?n:D,r=o("assets/firebase");async function a(e){const t=s.join(r,s.basename(e));return!!c.pathExistsSync(t)&&(await F(t,e,null==i?void 0:i.log),!0)}const[d,p]=await Promise.all([a(o("ios/GoogleService-Info.plist")),a(o("android/app/google-services.json"))]);return[(d&&e.ios?f.iOSAddBackgroundModesMapper:f.iOSRemoveBackgroundModesMapper)(["notification"]),(d&&e.ios?f.iOSAddEntitlementsMapper:f.iOSRemoveEntitlementsMapper)(["notification"]),(d&&e.ios?f.iOSAddFirebaseConfigurationToProjectMapper:f.iOSRemoveFirebaseConfigurationFromProjectMapper)(),(p&&e.android?f.androidIncludeFirebaseManifestConfigMapperForTemplateVersion:f.androidRemoveFirebaseManifestConfigMapperForTemplateVersion)(t)]}async function P(e){var i;const t=null!==(i=null==e?void 0:e.formatPath)&&void 0!==i?i:D,n=[".otf",".ttf"],o=t("assets/fonts");await c.ensureDir(o);const r=await y(o,n);async function a(i,t=[]){const n=(e,i)=>e.filter(e=>!i.includes(e)),a=n(t,[...m.defaultRequiredFonts,...m.defaultFontsFromVectorIcons]),d=n(a,r),p=n(r,a);return d.map(e=>s.join(i,e)).forEach(c.unlinkSync),await Promise.all(r.map(t=>F(s.join(o,t),s.join(i,t),null==e?void 0:e.log))),{addedFonts:p,disposedFonts:d}}const[{addedFonts:d,disposedFonts:p}]=await Promise.all([async function(){const e=u.plistToPrimitive(c.readFileSync(t(f.relativeInfoPlistPath)).toString()).UIAppFonts;return a(t("ios/Fonts"),e)}(),async function(){const e=t("android/app/src/main/assets/fonts");return a(e,await y(e,n))}()]);return[f.iOSFontsInfoPlistMapper(d,p),f.iOSFontsXcodeProjectMapper(d,p)]}async function N(e){var i;const t=null!==(i=null==e?void 0:e.formatPath)&&void 0!==i?i:D;async function n(i,t){await c.ensureDir(i);const n=await y(i,[".png"]),o=b(s.join(t,"Contents.json")),r=b(s.join(i,"ios.json"));if(!r||!o)return;const a=new Map,d=[...o.images];for(const{filename:o,idiom:p,size:l,scale:c,type:u}of r.images){if(!n.includes(o))continue;d.push({filename:o,idiom:p,scale:c,..."splashScreen"===u?void 0:{size:l}});const r=s.join(t,o);a.has(r)||a.set(r,F(s.join(i,o),r,null==e?void 0:e.log))}return await Promise.all(a.values()),{images:p.default(d,l.default),info:{version:1,author:"xcode"}}}function o(e,i){return{path:s.join(e,"Contents.json"),map:()=>JSON.stringify(i,null,2)}}const r=[];for(const{baseDir:e,destDir:i}of[{baseDir:"assets/icons",destDir:"ios/nativeTemplate/Images.xcassets/AppIcon.appiconset"},{baseDir:"assets/splashScreens",destDir:"ios/nativeTemplate/Images.xcassets/SplashScreen.imageset"}]){const a=await n(t(e),t(i));a&&r.push(o(i,a))}return r}async function _(e){var i;const t=null!==(i=null==e?void 0:e.formatPath)&&void 0!==i?i:D;async function n(i){const n=t("android/app/src/main/res");await c.ensureDir(i);const o=await y(i,[".png"]),r=new Map,a=b(s.join(i,"android.json"));if(a){for(const{filename:t,directory:d,title:p}of a.images){if(!o.includes(p))continue;const a=s.join(n,d),l=s.join(a,t);r.has(l)||r.set(l,c.ensureDir(a).then(()=>F(s.join(i,p),l,null==e?void 0:e.log)))}await Promise.all(r.values())}}return await Promise.all([n(t("assets/icons")),n(t("assets/splashScreens"))]),[]}function M(e,i){var t,n,o,r,a,s,d,p,l,c,u,v,h,g,S,O,A,T,E,I,P,N,_,M,C,y,b,R,D,F,L,x,U,B,w,j,V,$,q,k,G,H,W,K,z,Y;const X=null===(t=e.firebaseAndroid)||void 0===t?void 0:t.enabled,Z=null===(n=e.firebaseIos)||void 0===n?void 0:n.enabled;return[f.iOSDeepLinkSchemeMapper(null!==(r=null===(o=e.deepLink)||void 0===o?void 0:o.value)&&void 0!==r?r:""),f.androidDeepLinkIntentMapper(null!==(s=null===(a=e.deepLink)||void 0===a?void 0:a.value)&&void 0!==s?s:""),f.androidWebLinkIntentMapper(null===(p=null===(d=e.deepLink)||void 0===d?void 0:d.android)||void 0===p?void 0:p.webLinks[0].host,null===(c=null===(l=e.deepLink)||void 0===l?void 0:l.android)||void 0===c?void 0:c.webLinks[0].path),f.iOSGoogleMapApiKeyMapper(null!==(v=null===(u=e.maps)||void 0===u?void 0:u.value)&&void 0!==v?v:""),f.androidGoogleMapApiKeyMapper(null!==(g=null===(h=e.maps)||void 0===h?void 0:h.value)&&void 0!==g?g:""),f.templateCapabilitiesConfigMapper({deepLink:null!==(O=null===(S=e.deepLink)||void 0===S?void 0:S.enabled)&&void 0!==O&&O,maps:null!==(T=null===(A=e.maps)||void 0===A?void 0:A.enabled)&&void 0!==T&&T,pushNotifications:null!==(I=Z&&(null===(E=e.pushNotifications)||void 0===E?void 0:E.enabled))&&void 0!==I&&I,crashlytics:null!==(N=Z&&(null===(P=e.crashlytics)||void 0===P?void 0:P.enabled))&&void 0!==N&&N,firebaseAndroid:null!=X&&X,firebaseIos:null!=Z&&Z,mapsIos:null!==(M=null===(_=e.mapsIos)||void 0===_?void 0:_.enabled)&&void 0!==M&&M,localNotifications:null!==(y=null===(C=e.localNotifications)||void 0===C?void 0:C.enabled)&&void 0!==y&&y,appCenterOTA:null!==(R=null===(b=e.appCenterOTA)||void 0===b?void 0:b.enabled)&&void 0!==R&&R,nativeOTA:null!==(F=null===(D=e.nativeOTA)||void 0===D?void 0:D.enabled)&&void 0!==F&&F},m.OS.Ios),f.templateCapabilitiesConfigMapper({deepLink:null!==(x=null===(L=e.deepLink)||void 0===L?void 0:L.enabled)&&void 0!==x&&x,maps:null!==(B=null===(U=e.maps)||void 0===U?void 0:U.enabled)&&void 0!==B&&B,pushNotifications:null!==(j=X&&(null===(w=e.pushNotifications)||void 0===w?void 0:w.enabled))&&void 0!==j&&j,crashlytics:null!==($=X&&(null===(V=e.crashlytics)||void 0===V?void 0:V.enabled))&&void 0!==$&&$,firebaseAndroid:null!=X&&X,firebaseIos:null!=Z&&Z,mapsIos:null!==(k=null===(q=e.mapsIos)||void 0===q?void 0:q.enabled)&&void 0!==k&&k,localNotifications:null!==(H=null===(G=e.localNotifications)||void 0===G?void 0:G.enabled)&&void 0!==H&&H,appCenterOTA:null!==(K=null===(W=e.appCenterOTA)||void 0===W?void 0:W.enabled)&&void 0!==K&&K,nativeOTA:null!==(Y=null===(z=e.nativeOTA)||void 0===z?void 0:z.enabled)&&void 0!==Y&&Y},m.OS.Android)]}async function C(e){var i;const t=null!==(i=null==e?void 0:e.formatPath)&&void 0!==i?i:D,n=t(m.relativeNativeDependenciesPath),o=c.pathExistsSync(n);return await Promise.all([f.relativeIosNativeDependenciesConfigPath,f.relativeAndroidNativeDependenciesConfigPath].map(e=>{const i=t(e);return o?F(n,i):function(e){try{c.unlinkSync(e)}catch(e){}}(i)})),[(o?f.iOSAddNativeDependenciesConfigToProjectMapper:f.iOSRemoveNativeDependenciesConfigFromProjectMapper)()]}async function y(e,i){return(await c.readdir(e)).filter(e=>i.includes(s.extname(e)))}function b(e){try{return c.readJSONSync(e)}catch(e){return}}function R(e){var i,t,n,o,r,a;const s=null===(n=null===(t=null===(i=e.capabilities)||void 0===i?void 0:i.mapsIos)||void 0===t?void 0:t.value)||void 0===n?void 0:n.purpose,d=[O.androidPermissions.INTERNET,O.androidPermissions.SYSTEM_ALERT_WINDOW,O.androidPermissions.READ_PHONE_STATE,O.androidPermissions.CAMERA,O.androidPermissions.RECORD_AUDIO,O.androidPermissions.USE_FINGERPRINT,O.androidPermissions.BLUETOOTH,O.androidPermissions.BLUETOOTH_ADMIN,O.androidPermissions.RECEIVE_BOOT_COMPLETED,O.androidPermissions.VIBRATE,O.androidPermissions.ACCESS_FINE_LOCATION,O.iosPermissions.NSBluetoothAlwaysUsageDescription,O.iosPermissions.NSBluetoothPeripheralUsageDescription,O.iosPermissions.NSCalendarsUsageDescription,O.iosPermissions.NSCameraUsageDescription,O.iosPermissions.NSFaceIDUsageDescription,O.iosPermissions.NSMicrophoneUsageDescription,O.iosPermissions.NSPhotoLibraryUsageDescription,...[O.iosPermissions.NSLocationAlwaysUsageDescription,O.iosPermissions.NSLocationWhenInUseUsageDescription,O.iosPermissions.NSLocationAlwaysAndWhenInUseUsageDescription].map(e=>({...e,purpose:s||e.purpose}))];return{...e,capabilities:{...e.capabilities,mapsIos:{enabled:null!==(a=null===(r=null===(o=e.capabilities)||void 0===o?void 0:o.mapsIos)||void 0===r?void 0:r.enabled)&&void 0!==a&&a}},permissions:d,configVersion:2}}d.command("configure","Configure",{"config-path":{demandOption:!0,string:!0,describe:"Path to configuration file"}},e=>(v.LoggerProvider.setup(e.dump?v.LoggerType.File:v.LoggerType.Console,e.verbose?v.LogLevel.info:v.LogLevel.error,"./","native_mobile_toolkit.log"),A({configPath:e["config-path"],log:v.LoggerProvider.logger("configure")}))).option("verbose",{alias:"v",type:"boolean",description:"Run with verbose logging"}).option("dump",{alias:"d",type:"boolean",description:"Dump log output to file"}).argv,i.configure=A,i.permissionsMappersFactory=T,i.localNotificationsConfigurationMappersFactory=E,i.firebaseConfigurationMappersFactory=I,i.fontsMappersFactory=P,i.iOSImagesMappersFactory=N,i.androidImagesMappersFactory=_,i.capabilitiesMappersFactory=M,i.nativeDependenciesConfigMappersFactory=C;const D=e=>e;async function F(e,i,t){try{await c.copyFile(e,i)}catch(e){if("EBUSY"===e.code){const e=`Failed to configure project as the asset located at ${i} is being used by another process on your machine. Terminate the process and retry.`;throw null==t||t.error(e),new S.FileBusyError(e,i)}throw null==t||t.error(e),e}}},function(e,i){e.exports=require("yargs")},function(e,i){e.exports=require("lodash.uniqwith")},function(e,i){e.exports=require("lodash.isequal")},function(e,i){e.exports=require("fs-extra")},function(e,i){e.exports=require("xcode")},function(e,i){e.exports=require("xcode/lib/parser/pbxproj")},function(e,i){e.exports=require("xcode/lib/pbxWriter")},function(e,i){e.exports=require("plist")},function(e,i){e.exports=require("util")},function(e,i){e.exports=require("winston")},function(e,i){e.exports=require("triple-beam")},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Logger=i.newLineLogLevel=void 0,i.newLineLogLevel={name:"newLine",color:"hidden"};i.Logger=class{constructor(e){this.loggerProvider=e}newLine(){this.loggerProvider().log(i.newLineLogLevel.name,"")}info(e){this.loggerProvider().info(e)}warn(e){this.loggerProvider().warn(e)}error(e){this.loggerProvider().error(e)}exception(e){this.loggerProvider().debug(e)}}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Font=i.FontType=void 0;const n=t(0);!function(e){e.Black="black",e.BlackItalic="black_italic",e.Bold="bold",e.BoldItalic="bold_italic",e.ExtraBold="extra_bold",e.ExtraBoldItalic="extrabold_italic",e.ExtraLight="extra_light",e.ExtraLightItalic="extralight_italic",e.Light="light",e.LightItalic="light_italic",e.Medium="medium",e.MediumItalic="medium_italic",e.Regular="regular",e.RegularItalic="italic",e.Semibold="semibold",e.SemiboldItalic="semibold_italic",e.Thin="thin",e.ThinItalic="thin_italic"}(i.FontType||(i.FontType={}));class o{constructor(e,i,t,r){this.familyName=e,this.postScriptName=i,this.type=t,this.filepath=r,this.fileName=o.createFontFileName(i,n.extname(r))}static createFontFileName(e,i){return`${e}${i}`}static weightStyleToFontType(e,i){return`${e.toLowerCase()}${i?"_"+i.toLowerCase():""}`}}i.Font=o},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PermissionsHelper=i.isIosPermission=i.isAndroidPermission=i.PermissionGroups=i.combinedPermissions=i.iosPermissions=i.androidPermissions=void 0;const n=t(1);i.androidPermissions={ACCEPT_HANDOVER:{title:"Accept Handover",name:"android.permission.ACCEPT_HANDOVER",platform:n.OS.Android,required:!1},ACCESS_FINE_LOCATION:{title:"Fine Location",name:"android.permission.ACCESS_FINE_LOCATION",platform:n.OS.Android,required:!1},ACCESS_BACKGROUND_LOCATION:{title:"Background Location",name:"android.permission.ACCESS_BACKGROUND_LOCATION",platform:n.OS.Android,required:!1},ACCESS_COARSE_LOCATION:{title:"Coarse Location",name:"android.permission.ACCESS_COARSE_LOCATION",platform:n.OS.Android,required:!1},ACCESS_NETWORK_STATE:{title:"Network State",name:"android.permission.ACCESS_NETWORK_STATE",platform:n.OS.Android,required:!1},ACCESS_WIFI_STATE:{title:"Wifi State",name:"android.permission.ACCESS_WIFI_STATE",platform:n.OS.Android,required:!1},ACCOUNT_MANAGER:{title:"Account Manager",name:"android.permission.ACCOUNT_MANAGER",platform:n.OS.Android,required:!1},ACTIVITY_RECOGNITION:{title:"Activity Recognition",name:"android.permission.ACTIVITY_RECOGNITION",platform:n.OS.Android,required:!1},ADD_VOICEMAIL:{title:"Add Voicemail",name:"android.permission.ADD_VOICEMAIL",platform:n.OS.Android,required:!1},ANSWER_PHONE_CALLS:{title:"Answer Phone Calls",name:"android.permission.ANSWER_PHONE_CALLS",platform:n.OS.Android,required:!1},BATTERY_STATS:{title:"Battery Stats",name:"android.permission.BATTERY_STATS",platform:n.OS.Android,required:!1},BIND_INPUT_METHOD:{title:"Bind Input Method",name:"android.permission.BIND_INPUT_METHOD",platform:n.OS.Android,required:!1},BIND_NFC_SERVICE:{title:"Bind NFC Service",name:"android.permission.BIND_NFC_SERVICE",platform:n.OS.Android,required:!1},BLUETOOTH:{title:"Bluetooth",name:"android.permission.BLUETOOTH",platform:n.OS.Android,required:!1,deprecatedOn:"30",replacement:"android.permission.BLUETOOTH_CONNECT"},BLUETOOTH_ADMIN:{title:"Bluetooth - Admin",name:"android.permission.BLUETOOTH_ADMIN",platform:n.OS.Android,required:!1,deprecatedOn:"30",replacement:"android.permission.BLUETOOTH_SCAN"},BLUETOOTH_CONNECT:{title:"Bluetooth - Connect",name:"android.permission.BLUETOOTH_CONNECT",platform:n.OS.Android,required:!1},BLUETOOTH_SCAN:{title:"Bluetooth - Scan",name:"android.permission.BLUETOOTH_SCAN",platform:n.OS.Android,required:!1},BLUETOOTH_ADVERTISE:{title:"Bluetooth - Advertise",name:"android.permission.BLUETOOTH_ADVERTISE",platform:n.OS.Android,required:!1},BLUETOOTH_PRIVILEGED:{title:"Bluetooth - Privileged",name:"android.permission.BLUETOOTH_PRIVILEGED",platform:n.OS.Android,required:!1},BODY_SENSORS:{title:"Body Sensors",name:"android.permission.BODY_SENSORS",platform:n.OS.Android,required:!1},BROADCAST_STICKY:{title:"Broadcast Sticky",name:"android.permission.BROADCAST_STICKY",platform:n.OS.Android,required:!1},CALL_PHONE:{title:"Call Phone",name:"android.permission.CALL_PHONE",platform:n.OS.Android,required:!1},CALL_PRIVILEGED:{title:"Call Privileged",name:"android.permission.CALL_PRIVILEGED",platform:n.OS.Android,required:!1},CAMERA:{title:"Camera",name:"android.permission.CAMERA",platform:n.OS.Android,required:!1},CAPTURE_AUDIO_OUTPUT:{title:"Capture Audio Output",name:"android.permission.CAPTURE_AUDIO_OUTPUT",platform:n.OS.Android,required:!1},CHANGE_NETWORK_STATE:{title:"Change Network State",name:"android.permission.CHANGE_NETWORK_STATE",platform:n.OS.Android,required:!1},CHANGE_CONFIGURATION:{title:"Change Configuration",name:"android.permission.CHANGE_CONFIGURATION",platform:n.OS.Android,required:!1},CHANGE_WIFI_MULTICAST_STATE:{title:"Change Wifi-multicast State",name:"android.permission.CHANGE_WIFI_MULTICAST_STATE",platform:n.OS.Android,required:!1},CHANGE_WIFI_STATE:{title:"Change Wifi State",name:"android.permission.CHANGE_WIFI_STATE",platform:n.OS.Android,required:!1},EXPAND_STATUS_BAR:{title:"Expand Status-bar",name:"android.permission.EXPAND_STATUS_BAR",platform:n.OS.Android,required:!1},FOREGROUND_SERVICE:{title:"Foreground Service",name:"android.permission.FOREGROUND_SERVICE",platform:n.OS.Android,required:!1},GET_ACCOUNTS:{title:"Get Accounts",name:"android.permission.GET_ACCOUNTS",platform:n.OS.Android,required:!1},INTERNET:{title:"Internet",name:"android.permission.INTERNET",platform:n.OS.Android,required:!0},LOCATION_HARDWARE:{title:"Location Hardware",name:"android.permission.LOCATION_HARDWARE",platform:n.OS.Android,required:!1},MODIFY_PHONE_STATE:{title:"Modify Phone State",name:"android.permission.MODIFY_PHONE_STATE",platform:n.OS.Android,required:!1},NFC:{title:"NFC",name:"android.permission.NFC",platform:n.OS.Android,required:!1},NFC_PREFERRED_PAYMENT_INFO:{title:"NFC Preferred Payment Info",name:"android.permission.NFC_PREFERRED_PAYMENT_INFO",platform:n.OS.Android,required:!1},NFC_TRANSACTION_EVENT:{title:"NFC Transaction Event",name:"android.permission.NFC_TRANSACTION_EVENT",platform:n.OS.Android,required:!1},READ_CALENDAR:{title:"Read Calendar",name:"android.permission.READ_CALENDAR",platform:n.OS.Android,required:!1},READ_CALL_LOG:{title:"Read Call Log",name:"android.permission.READ_CALL_LOG",platform:n.OS.Android,required:!1},READ_CONTACTS:{title:"Read Contacts",name:"android.permission.READ_CONTACTS",platform:n.OS.Android,required:!1},READ_EXTERNAL_STORAGE:{title:"Read External Storage",name:"android.permission.READ_EXTERNAL_STORAGE",platform:n.OS.Android,required:!1},READ_PHONE_NUMBERS:{title:"Read Phone Numbers",name:"android.permission.READ_PHONE_NUMBERS",platform:n.OS.Android,required:!1},READ_PHONE_STATE:{title:"Read Phone State",name:"android.permission.READ_PHONE_STATE",platform:n.OS.Android,required:!1},READ_PRECISE_PHONE_STATE:{title:"Read Precise Phone State",name:"android.permission.READ_PRECISE_PHONE_STATE",platform:n.OS.Android,required:!1},READ_SMS:{title:"Read SMS",name:"android.permission.READ_SMS",platform:n.OS.Android,required:!1},RECEIVE_BOOT_COMPLETED:{title:"Receive Boot Completed",name:"android.permission.RECEIVE_BOOT_COMPLETED",platform:n.OS.Android,required:!1},RECORD_AUDIO:{title:"Record Audio",name:"android.permission.RECORD_AUDIO",platform:n.OS.Android,required:!1},SET_ALARM:{title:"Set Alarm",name:"android.permission.SET_ALARM",platform:n.OS.Android,required:!1},SET_TIME:{title:"Set Time",name:"android.permission.SET_TIME",platform:n.OS.Android,required:!1},SET_TIME_ZONE:{title:"Set Time Zone",name:"android.permission.SET_TIME_ZONE",platform:n.OS.Android,required:!1},SET_WALLPAPER:{title:"Set Wallpaper",name:"android.permission.SET_WALLPAPER",platform:n.OS.Android,required:!1},STATUS_BAR:{title:"Status Bar",name:"android.permission.STATUS_BAR",platform:n.OS.Android,required:!1},SYSTEM_ALERT_WINDOW:{title:"System Alert Window",name:"android.permission.SYSTEM_ALERT_WINDOW",platform:n.OS.Android,required:!0},USE_BIOMETRIC:{title:"Use Biometric",name:"android.permission.USE_BIOMETRIC",platform:n.OS.Android,required:!1},USE_FINGERPRINT:{title:"Fingerprint",name:"android.permission.USE_FINGERPRINT",platform:n.OS.Android,required:!1},USE_FULL_SCREEN_INTENT:{title:"Use Full Screen Intent",name:"android.permission.USE_FULL_SCREEN_INTENT",platform:n.OS.Android,required:!1},VIBRATE:{title:"Vibrate",name:"android.permission.VIBRATE",platform:n.OS.Android,required:!1},WAKE_LOCK:{title:"Wake Lock",name:"android.permission.WAKE_LOCK",platform:n.OS.Android,required:!1},WRITE_CALENDAR:{title:"Write Calendar",name:"android.permission.WRITE_CALENDAR",platform:n.OS.Android,required:!1},WRITE_CONTACTS:{title:"Write Contacts",name:"android.permission.WRITE_CONTACTS",platform:n.OS.Android,required:!1},WRITE_EXTERNAL_STORAGE:{title:"Write External Storage",name:"android.permission.WRITE_EXTERNAL_STORAGE",platform:n.OS.Android,required:!1}},i.iosPermissions={NFCReaderUsageDescription:{title:"NFC Reader Usage",name:"NFCReaderUsageDescription",purpose:"To use that feature, the app needs access to NFC.",platform:n.OS.Ios,required:!1},NSAppleMusicUsageDescription:{title:"Apple Music Usage",name:"NSAppleMusicUsageDescription",purpose:"To use that feature, the app needs to access your apple music",platform:n.OS.Ios,required:!1},NSBluetoothAlwaysUsageDescription:{title:"Bluetooth - Always Usage",name:"NSBluetoothAlwaysUsageDescription",purpose:"This app may need access to your Bluetooth connection.",platform:n.OS.Ios,required:!1},NSBluetoothPeripheralUsageDescription:{title:"Bluetooth - Peripheral Usage",name:"NSBluetoothPeripheralUsageDescription",purpose:"This app may need access to your Bluetooth connection.",platform:n.OS.Ios,required:!1},NSCalendarsUsageDescription:{title:"Calendars Usage",name:"NSCalendarsUsageDescription",purpose:"This app requires access to the calendars.",platform:n.OS.Ios,required:!1},NSCameraUsageDescription:{title:"Camera Usage",name:"NSCameraUsageDescription",purpose:"The camera can be used to open apps by scanning a QR code.",platform:n.OS.Ios,required:!1},NSContactsUsageDescription:{title:"Contacts Usage",name:"NSContactsUsageDescription",purpose:"To use that feature, the app needs to access your contacts",platform:n.OS.Ios,required:!1},NSFaceIDUsageDescription:{title:"Face ID Usage",name:"NSFaceIDUsageDescription",purpose:"Enabling Face ID allows you quick and secure access to your account.",platform:n.OS.Ios,required:!1},NSHealthClinicalHealthRecordsShareUsageDescription:{title:"Health Clinical Health Records Share Usage",name:"NSHealthClinicalHealthRecordsShareUsageDescription",purpose:"To use that feature, the app needs to access your health clinical health records share.",platform:n.OS.Ios,required:!1},NSHealthShareUsageDescription:{title:"Health Share Usage",name:"NSHealthShareUsageDescription",purpose:"To use that feature, the app needs to access your health share.",platform:n.OS.Ios,required:!1},NSHealthUpdateUsageDescription:{title:"Health Update Usage",name:"NSHealthUpdateUsageDescription",purpose:"To use that feature, the app needs to access your health update.",platform:n.OS.Ios,required:!1},NSHomeKitUsageDescription:{title:"HomeKit Usage",name:"NSHomeKitUsageDescription",purpose:"To use that feature, the app needs to access your home kit.",platform:n.OS.Ios,required:!1},NSMicrophoneUsageDescription:{title:"Microphone Usage",name:"NSMicrophoneUsageDescription",purpose:"To use that feature, the app needs access to your microphone.",platform:n.OS.Ios,required:!1},NSMotionUsageDescription:{title:"Motion Usage",name:"NSMotionUsageDescription",purpose:"To use that feature, the app needs to access your motion.",platform:n.OS.Ios,required:!1},NSPhotoLibraryUsageDescription:{title:"Photo Library Usage",name:"NSPhotoLibraryUsageDescription",purpose:"To use that feature, the app needs access to your photo library.",platform:n.OS.Ios,required:!1},NSPhotoLibraryAddUsageDescription:{title:"Photo Library Add Usage",name:"NSPhotoLibraryAddUsageDescription",purpose:"To use that feature, the app needs access to your photo library.",platform:n.OS.Ios,required:!1},NSLocationAlwaysUsageDescription:{title:"Location - Always Usage",name:"NSLocationAlwaysUsageDescription",purpose:"To use that feature, the app needs access to your location.",platform:n.OS.Ios,required:!0},NSLocationWhenInUseUsageDescription:{title:"Location - When In Use Usage",name:"NSLocationWhenInUseUsageDescription",purpose:"To use that feature, the app needs access to your location.",platform:n.OS.Ios,required:!0},NSLocationAlwaysAndWhenInUseUsageDescription:{title:"Location - Always And When in Use Usage",name:"NSLocationAlwaysAndWhenInUseUsageDescription",purpose:"To use that feature, the app needs access to your location.",platform:n.OS.Ios,required:!0},NSRemindersUsageDescription:{title:"Reminders Usage",name:"NSRemindersUsageDescription",purpose:"To use that feature, the app needs to access your reminders.",platform:n.OS.Ios,required:!1},NSSiriUsageDescription:{title:"Siri Usage",name:"NSSiriUsageDescription",purpose:"To use that feature, the app needs to access siri.",platform:n.OS.Ios,required:!1},NSSpeechRecognitionUsageDescription:{title:"Speech Recognition Usage",name:"NSSpeechRecognitionUsageDescription",purpose:"To use that feature, the app needs to access your speech recognition.",platform:n.OS.Ios,required:!1},NSUserTrackingUsageDescription:{title:"User Tracking Usage",name:"NSUserTrackingUsageDescription",purpose:"To use some features, the app needs to track your data.",platform:n.OS.Ios,required:!1},NSVideoSubscriberAccountUsageDescription:{title:"Video Subscriber Account Usage",name:"NSVideoSubscriberAccountUsageDescription",purpose:"To use that feature, the app needs to access your video subscriber account.",platform:n.OS.Ios,required:!1}},i.combinedPermissions=[...Object.values(i.androidPermissions),...Object.values(i.iosPermissions)],i.PermissionGroups={location:[i.androidPermissions.ACCESS_FINE_LOCATION,i.androidPermissions.ACCESS_COARSE_LOCATION,i.iosPermissions.NSLocationAlwaysAndWhenInUseUsageDescription,i.iosPermissions.NSLocationAlwaysUsageDescription,i.iosPermissions.NSLocationWhenInUseUsageDescription]},i.isAndroidPermission=function(e){return e.platform===n.OS.Android},i.isIosPermission=function(e){return e.platform===n.OS.Ios},i.PermissionsHelper={toKey:e=>e.name}},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return o(i,e),i};Object.defineProperty(i,"__esModule",{value:!0}),i.templateVersionMapper=i.templateCapabilitiesConfigMapper=i.iOSManualSigningConfigurationMapper=i.iOSGoogleMapApiKeyMapper=i.iOSRemoveEntitlementsMapper=i.iOSAddEntitlementsMapper=i.iOSAddEntitlementFileMapper=i.iOSRemoveBackgroundModesMapper=i.iOSAddBackgroundModesMapper=i.iOSRemoveFirebaseConfigurationFromProjectMapper=i.iOSAddFirebaseConfigurationToProjectMapper=i.iOSFontsXcodeProjectMapper=i.iOSFontsInfoPlistMapper=i.iOSDeepLinkSchemeMapper=i.iOSDeviceOrientationMapper=i.iOSDeviceFamilyMapper=i.iOSPermissionsMapper=i.iOSFullScreenModeMapper=i.iOSRuntimeUrlMapper=i.iOSVersionAndBuildMapper=i.iOSBundleNameMapperDev=i.iOSBundleNameMapper=i.iOSIdentifierMapper=i.iOSDevAppNameMapper=i.iOSAppNameMapper=i.androidRemoveLocalNotificationsManifestConfigMapperForV6=i.androidRemoveFirebaseManifestConfigMapper=i.androidRemoveLocalNotificationsManifestConfigMapperForTemplateVersion=i.androidRemoveFirebaseManifestConfigMapperForTemplateVersion=i.androidIncludeLocalNotificationsConfigMapperForV6=i.androidIncludeFirebaseManifestConfigMapper=i.androidIncludeFirebaseManifestConfigMapperForTemplateVersion=i.androidIncludeLocalNotificationsManifestConfigMapperForTemplateVersion=i.androidPermissionsMapper=i.androidReleaseClearTextMapper=i.androidGoogleMapApiKeyMapper=i.androidWebLinkIntentMapper=i.androidDeepLinkIntentMapper=i.androidDevDeviceOrientationMapper=i.androidDevSupportedScreensMapper=i.androidSupportedScreensMapper=i.androidDeviceOrientationMapper=i.androidRuntimeUrlMapper=i.androidVersionAndBuildMapper=i.androidIdentifierMapper=i.androidDevAppNameMapper=i.androidAppNameMapper=i.relativeIosNativeDependenciesConfigPath=i.relativeAndroidNativeDependenciesConfigPath=i.relativeInfoPlistPath=void 0,i.iOSRemoveNativeDependenciesConfigFromProjectMapper=i.iOSAddNativeDependenciesConfigToProjectMapper=i.templateConfigMapper=void 0;const a=r(t(27)),s=t(1),d=t(28),p=t(4),l=t(29),c=t(33),u=t(34),m="com.mendix.nativetemplate.MainActivity";i.relativeInfoPlistPath="ios/nativeTemplate/Info.plist";const f="ios/nativeTemplate.xcodeproj/project.pbxproj",v="ios/Config/config.xcconfig",h="ios/Dev/Config/config.xcconfig",g="android/app/src/main/res/values/strings.xml",S="android/app/src/dev/res/values/strings.xml",O="android/app/src/main/AndroidManifest.xml",A="android/app/src/dev/AndroidManifest.xml";i.relativeAndroidNativeDependenciesConfigPath="android/app/src/main/res/raw/native_dependencies.json",i.relativeIosNativeDependenciesConfigPath="ios/native_dependencies.json";const T=e=>({path:e.path,map:e=>e});function E(){return{path:O,map:e=>new l.AndroidManifest(e).updateLaunchMode(m,l.LaunchMode.singleTop).includeFirebaseManifestConfig().toString()}}function I(){return{path:O,map:e=>new l.AndroidManifest(e).updateLaunchMode(m,l.LaunchMode.singleTop).includeLocalNotificationsManifestConfigForV6().toString()}}function P(){return{path:O,map:e=>new l.AndroidManifest(e).removeFirebaseManifestConfig().toString()}}function N(){return{path:O,map:e=>new l.AndroidManifest(e).removeLocalNotificationsManifestConfigV6().toString()}}i.androidAppNameMapper=function(e){return{path:g,map:i=>d.updateStringsFile(i,"app_name",e)}},i.androidDevAppNameMapper=function(e){return{path:S,map:i=>d.updateStringsFile(i,"app_name",e)}},i.androidIdentifierMapper=function(e){return{path:"android/app/build.gradle",map:i=>d.updateGradleValue(i,"applicationId",`"${e}"`)}},i.androidVersionAndBuildMapper=function(e,i){return{path:"android/app/build.gradle",map:t=>{const n=d.updateGradleValue(t,"versionName",`"${e}"`);return d.updateGradleValue(n,"versionCode",i.toString())}}},i.androidRuntimeUrlMapper=function(e){return{path:"android/app/src/main/res/raw/runtime_url",map:()=>e+"\n\n"}},i.androidDeviceOrientationMapper=function(e){return{path:O,map:i=>new l.AndroidManifest(i).updateOrientation(m,e).toString()}},i.androidSupportedScreensMapper=function(e){return{path:O,map:i=>new l.AndroidManifest(i).updateSupportScreens(e).toString()}},i.androidDevSupportedScreensMapper=function(e){return{path:A,map:i=>new l.AndroidManifest(i).updateSupportScreens(e).toString()}},i.androidDevDeviceOrientationMapper=function(e){return{path:A,map:i=>new l.AndroidManifest(i).updateOrientation(m,e).toString()}},i.androidDeepLinkIntentMapper=function(e){return{path:O,map:i=>{const t=new l.AndroidManifest(i);return t.updateDeepIntent(m,e),t.updateLaunchMode(m,e?l.LaunchMode.singleTask:l.LaunchMode.singleTop),t.toString()}}},i.androidWebLinkIntentMapper=function(e,i){return{path:O,map:t=>{const n=new l.AndroidManifest(t);return n.updateWebLinkIntentFilter(m,{host:e,path:i}),n.toString()}}},i.androidGoogleMapApiKeyMapper=function(e){return{path:O,map:i=>new l.AndroidManifest(i).updateGoogleMapsApiKey(e).toString()}},i.androidReleaseClearTextMapper=function(e){return{path:O,map:i=>new l.AndroidManifest(i).updateClearTextTraffic(e).toString()}},i.androidPermissionsMapper=function(e){return{path:O,map:i=>new l.AndroidManifest(i).updatePermissions(e.map(e=>e.name)).toString()}},i.androidIncludeLocalNotificationsManifestConfigMapperForTemplateVersion=function(e=""){return a.satisfies(e,">=6.x",{includePrerelease:!0})?I():T(I())},i.androidIncludeFirebaseManifestConfigMapperForTemplateVersion=function(e=""){return a.satisfies(e,">=6.x",{includePrerelease:!0})?T(E()):E()},i.androidIncludeFirebaseManifestConfigMapper=E,i.androidIncludeLocalNotificationsConfigMapperForV6=I,i.androidRemoveFirebaseManifestConfigMapperForTemplateVersion=function(e=""){return a.satisfies(e,">=6.x",{includePrerelease:!0})?T(P()):P()},i.androidRemoveLocalNotificationsManifestConfigMapperForTemplateVersion=function(e=""){return a.satisfies(e,">=6.x",{includePrerelease:!0})?N():T(N())},i.androidRemoveFirebaseManifestConfigMapper=P,i.androidRemoveLocalNotificationsManifestConfigMapperForV6=N,i.iOSAppNameMapper=function(e){return{path:v,map:i=>d.updateConfigValue(i,"BUNDLE_DISPLAY_NAME",e)}},i.iOSDevAppNameMapper=function(e){return{path:h,map:i=>d.updateConfigValue(i,"BUNDLE_DISPLAY_NAME",e)}},i.iOSIdentifierMapper=function(e){return{path:v,map:i=>d.updateConfigValue(i,"BUNDLE_IDENTIFIER",e)}},i.iOSBundleNameMapper=function(e){return{path:v,map:i=>d.updateConfigValue(i,"PRODUCT_NAME",e,!0)}},i.iOSBundleNameMapperDev=function(e){return{path:h,map:i=>d.updateConfigValue(i,"PRODUCT_NAME",e,!0)}},i.iOSVersionAndBuildMapper=function(e,t){return{path:i.relativeInfoPlistPath,map:i=>{const n=d.updatePlistValue(i,"CFBundleShortVersionString",e);return d.updatePlistValue(n,"CFBundleVersion",t.toString())}}},i.iOSRuntimeUrlMapper=function(e){return{path:v,map:i=>d.updateConfigValue(i,"RUNTIME_URL",e)}},i.iOSFullScreenModeMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updatePlistContent(i,i=>p.addPlistItems(i,{UIRequiresFullScreen:e.tablet}))}},i.iOSPermissionsMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updatePermissions(i,e.reduce((e,i)=>({...e,[i.name]:i.purpose}),{}))}},i.iOSDeviceFamilyMapper=function(e){return{path:f,map:i=>p.updateDeviceFamily(i,e)}},i.iOSDeviceOrientationMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updateOrientation(i,e)}},i.iOSDeepLinkSchemeMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updateDeepLinkScheme(i,e)}},i.iOSFontsInfoPlistMapper=function(e,t=[]){return{path:i.relativeInfoPlistPath,map:i=>p.updateFonts(i,e,t)}},i.iOSFontsXcodeProjectMapper=function(e,i=[]){return{path:f,map:t=>{const n=e.reduce((e,i)=>{var t;const n=p.addResourceFileToAllTargets(e,i,"Fonts");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:e},t);return i.reduce((e,i)=>{var t;const n=p.removeResourceFileToAllTargets(e,i,"Fonts");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:e},n)}}},i.iOSAddFirebaseConfigurationToProjectMapper=function(){const e="ios/GoogleService-Info.plist".split("/").pop();return{path:f,map:i=>{var t;const n=p.addResourceFileToAllTargets(i,e,"NativeTemplate");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:i}}},i.iOSRemoveFirebaseConfigurationFromProjectMapper=function(){const e="ios/GoogleService-Info.plist".split("/").pop();return{path:f,map:i=>{var t;const n=p.removeResourceFileToAllTargets(i,e,"NativeTemplate");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:i}}},i.iOSAddBackgroundModesMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updatePlistContent(i,i=>p.updatePlistItemValues(i,"UIBackgroundModes",u.valueToBackgroundModes(e)))}},i.iOSRemoveBackgroundModesMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updatePlistContent(i,i=>p.removeArrayItemsFromPlistItem(i,"UIBackgroundModes",u.valueToBackgroundModes(e)))}},i.iOSAddEntitlementFileMapper=function(e){return{path:f,map:i=>{var t;const n=p.addEntitlementFile(i,e,"NativeTemplate");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:i}}},i.iOSAddEntitlementsMapper=function(e){return{path:"ios/nativeTemplate/nativeTemplate.entitlements",map:i=>p.updatePlistContent(i,i=>p.addPlistItems(i,c.valueToEntitlements(e)))}},i.iOSRemoveEntitlementsMapper=function(e){return{path:"ios/nativeTemplate/nativeTemplate.entitlements",map:i=>p.updatePlistContent(i,i=>p.removePlistItems(i,Object.keys(c.valueToEntitlements(e))))}},i.iOSGoogleMapApiKeyMapper=function(e){return{path:i.relativeInfoPlistPath,map:i=>p.updatePlistContent(i,i=>p.addPlistItems(i,{GoogleMapsApiKey:e}))}},i.iOSManualSigningConfigurationMapper=function(e,i="iPhone Developer",t="App"){return{path:f,map:n=>p.updateCodeSignStyle(p.updateDevelopmentTeam(p.updateCodeSignIdentity(p.updateProvisioningProfileSpecifier(p.updateDevelopmentTeam(n,e),t),i),e))}},i.templateCapabilitiesConfigMapper=function(e,i){return{path:`capabilities.${i.toLowerCase()}.json`,map:i=>JSON.stringify({...JSON.parse(i),...e},null,4)+"\n"}},i.templateVersionMapper=function(e){return{path:s.relativeTemplateVersionPath,map:i=>i.replace(new RegExp(".*","s"),e)}},i.templateConfigMapper=function(e){return{path:"config.json",map:i=>{const t=i?JSON.parse(i):{};return JSON.stringify({...t,...e},null,4)+"\n"}}},i.iOSAddNativeDependenciesConfigToProjectMapper=function(){const e=i.relativeIosNativeDependenciesConfigPath.split("/").pop();return{path:f,map:i=>{var t;const n=p.addResourceFileToAllTargets(i,e,"NativeTemplate");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:i}}},i.iOSRemoveNativeDependenciesConfigFromProjectMapper=function(){const e=i.relativeIosNativeDependenciesConfigPath.split("/").pop();return{path:f,map:i=>{var t;const n=p.removeResourceFileToAllTargets(i,e,"NativeTemplate");return null!==(t=null==n?void 0:n.toString())&&void 0!==t?t:i}}}},function(e,i){e.exports=require("semver")},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.updateStringsFile=i.retrieveGradleValue=i.updateGradleValue=i.retrieveConfigValue=i.updateConfigValue=i.updatePlistValue=void 0,i.updatePlistValue=function(e,i,t){const n=new RegExp(`(<key>${i}</key>\\s*<string>)([^<]*)(</string>)`);return e.replace(n,`$1${t}$3`)},i.updateConfigValue=function(e,i,t,n){const o=new RegExp(`(^${i}\\s?=\\s?)(.*)?`,"gm");return!o.test(e)&&n?`${e}\n${i} = ${t}`:e.replace(o,"$1"+t.replace("//","\\/\\/"))},i.retrieveConfigValue=function(e,i){const t=new RegExp(`(?:^${i}\\s?=\\s?)(.*)?`,"gm");return Array.from(e.matchAll(t),e=>e[1])[0]},i.updateGradleValue=function(e,i,t){const n=new RegExp(`(${i})(.*)`);return e.replace(n,"$1 "+t)},i.retrieveGradleValue=function(e,i){const t=new RegExp(`(?:${i}\\s?)(.*)`,"gm");return Array.from(e.matchAll(t),e=>e[1])[0]},i.updateStringsFile=function(e,i,t){const n=new RegExp(`(<string name="${i}">)([^<]*)(</string>)`);return e.replace(n,`$1${t}$3`)}},function(e,i,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.LaunchMode=i.AndroidManifest=void 0;const o=t(2),r=n(t(30)),a=n(t(31)),s=t(32),d=t(3);class p{constructor(e){return this.$=a.default.load(e,{xmlMode:!0}),this}get application(){return this.$("application")}findFirst(e){return this.$.root().find(e).first()}findIntentFilterByComment(e,i){return e.children().filter((e,t)=>!!t.children.filter(e=>"comment"===e.type&&e.data===i).length).first()}supportsScreens(){const e="supports-screens",i=this.$("manifest").find(">"+e);if(i.length)return this.$(i);const t=this.$(`<${e}>`);return this.$("manifest").append(t),this.$(t)}metaData(e){const i=this.application.find(`>meta-data[android\\:name="${e}"]`);if(i.length)return this.$(i);const t=this.$("<meta-data>").attr("android:name",e);return this.application.append(t),this.$(t)}updatePermissions(e){const i=Object.values(d.androidPermissions),t=i.map(e=>e.name),n=i.filter(e=>!!e.replacement&&!!e.deprecatedOn),o=[...e.filter(e=>!n.some(i=>i.name===e)),...n.filter(i=>e.some(e=>e===i.name)).map(e=>e.replacement)],r="uses-permission",a=[];for(const e of this.$("manifest").find(">"+r).toArray()){const i=e.attribs["android:name"];o.includes(i)||!t.includes(i)?a.push(i):this.$(`manifest>${r}[android\\:name="${i}"]`).remove()}const s=o.filter(e=>e&&!a.includes(e));for(const e of s){const i=this.$(`<${r}>`).attr("android:name",e),t=n.find(i=>i.replacement===e);if(t){const e=this.$(`<${r}>`).attr("android:name",t.name).attr("android:maxSdkVersion",t.deprecatedOn);this.$("manifest").prepend(e)}this.$("manifest").prepend(i)}return this}updateWebLinkIntentFilter(e,{host:i,path:t}={}){const n=this.activity(e),o=this.findIntentFilterByComment(n,"mx-controlled-web-link");if(o.length)return i?(o.find(">data[android\\:host]").attr("android:host",i),t?o.find(">data[android\\:pathPattern]").attr("android:pathPattern",t):o.find(">data[android\\:pathPattern]").remove()):o.remove(),this;if(!i)return this;const r=this.$('<intent-filter android:label="web_link_label">').append("\x3c!--mx-controlled-web-link--\x3e").append(this.$("<action>").attr("android:name","android.intent.action.VIEW")).append(this.$("<category>").attr("android:name","android.intent.category.DEFAULT")).append(this.$("<category>").attr("android:name","android.intent.category.BROWSABLE")).append(this.$("<data>").attr("android:scheme","http")).append(this.$("<data>").attr("android:scheme","https")).append(this.$("<data>").attr("android:host",i));return t&&r.append(this.$("<data>").attr("android:pathPattern",t)),n.append(r),this}updateDeepLinkIntentFilter(e,i){const t=this.activity(e),n=this.findIntentFilterByComment(t,"mx-controlled-deep-link");if(n.length)return i.length?(n.find("data").attr("android:scheme",i),this):(n.remove(),0===t.children().length?t.empty():this);if(!i.length)return this;const o=this.$('<intent-filter android:label="deep_link_label">').append("\x3c!--mx-controlled-deep-link--\x3e").append(this.$("<action>").attr("android:name","android.intent.action.VIEW")).append(this.$("<category>").attr("android:name","android.intent.category.DEFAULT")).append(this.$("<category>").attr("android:name","android.intent.category.BROWSABLE")).append(this.$("<data>").attr("android:scheme",i));return t.append(o),this}toString(){return r.default(this.$.xml(),{lineSeparator:o.EOL})}updateOrientation(e,i){const t=p.resolveOrientation(i),n="android:screenOrientation";return t?this.activity(e).attr(n,t):this.activity(e).removeAttr(n),this}updateSupportScreens(e){const i=p.resolveSupportScreens(e),t=Object.keys(i),n=this.supportsScreens();return t.length?t.forEach(e=>n.attr(e,""+i[e])):n.remove(),this}updateLaunchMode(e,i){return this.activity(e).attr("android:launchMode",i),this}updateDeepIntent(e,i){return this.updateDeepLinkIntentFilter(e,i),this}updateGoogleMapsApiKey(e){return this.metaData("com.google.android.geo.API_KEY").attr("android:value",e),this}updateClearTextTraffic(e){return this.application.attr("android:usesCleartextTraffic",e),this}activity(e){return this.findOrCreateByAndroidName("application","activity",e)}containsReceiver(e){return!!this.application.find(`>receiver[android\\:name="${e}"]`).length}containsService(e){return!!this.application.find(`>service[android\\:name="${e}"]`).length}includeFirebaseManifestConfig(){const e="io.invertase.firebase.notifications.RNFirebaseNotificationReceiver";this.containsReceiver(e)||this.receiver(e);const i="io.invertase.firebase.notifications.RNFirebaseNotificationsRebootReceiver";this.containsReceiver(i)||this.receiver(i).attr("android:enabled","true").attr("android:exported","true").append(this.$("<intent-filter>").append(this.$("<action>").attr("android:name","android.intent.action.BOOT_COMPLETED")).append(this.$("<action>").attr("android:name","android.intent.action.QUICKBOOT_POWERON")).append(this.$("<action>").attr("android:name","com.htc.intent.action.QUICKBOOT_POWERON")).append(this.$("<category>").attr("android:name","android.intent.category.DEFAULT")));const t="io.invertase.firebase.messaging.RNFirebaseMessagingService";return this.containsService(t)||this.service(t),this.toString()}includeLocalNotificationsManifestConfigForV6(){this.containsReceiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationActions")||this.receiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationActions");this.containsReceiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher")||this.receiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher");const e="com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver";this.containsReceiver(e)||this.receiver(e).attr("android:exported","true").append(this.$("<intent-filter>").append(this.$("<action>").attr("android:name","android.intent.action.BOOT_COMPLETED")).append(this.$("<action>").attr("android:name","android.intent.action.QUICKBOOT_POWERON")).append(this.$("<action>").attr("android:name","com.htc.intent.action.QUICKBOOT_POWERON")));return this.containsService("com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService")||this.service("com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService").attr("android:exported","false"),this.toString()}removeFirebaseManifestConfig(){return this.receiver("io.invertase.firebase.notifications.RNFirebaseNotificationReceiver").remove(),this.receiver("io.invertase.firebase.notifications.RNFirebaseNotificationsRebootReceiver").remove(),this.service("io.invertase.firebase.messaging.RNFirebaseMessagingService").remove(),this.toString()}removeLocalNotificationsManifestConfigV6(){return this.receiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationActions").remove(),this.receiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher").remove(),this.receiver("com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver").remove(),this.service("com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService").remove(),this.toString()}receiver(e){return this.findOrCreateByAndroidName("application","receiver",e)}service(e){return this.findOrCreateByAndroidName("application","service",e)}findOrCreateByAndroidName(e,i,t){const n=this.$(e).find(" > "+i),o=s.find(n,{attribs:{"android:name":t}});if(o)return this.$(o);{const n=this.$("<"+i+">").attr("android:name",t);return this.$(e).append(n),this.$(n)}}static resolveSupportScreens(e){var i,t,n,o;return{"android:smallScreens":null===(i=e.phone)||void 0===i||i,"android:normalScreens":null===(t=e.phone)||void 0===t||t,"android:largeScreens":null===(n=e.tablet)||void 0===n||n,"android:xlargeScreens":null===(o=e.tablet)||void 0===o||o}}static resolveOrientation(e){return e.portrait&&e.landscape?"user":e.portrait?"userPortrait":e.landscape?"userLandscape":"user"}}i.AndroidManifest=p,function(e){e.standard="standard",e.singleTask="singleTask",e.singleTop="singleTop",e.singleInstance="singleInstance"}(i.LaunchMode||(i.LaunchMode={}))},function(e,i){e.exports=require("xml-formatter")},function(e,i){e.exports=require("cheerio")},function(e,i){e.exports=require("lodash")},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.valueToEntitlements=i.EntitlementException=void 0;const n={notification:{name:"aps-environment",value:"development"},signin:{name:"com.apple.developer.applesignin",value:["Default"]},nfc:{name:"com.apple.developer.nfc.readersession.formats",value:["NDEF","TAG"]}};class o extends Error{}i.EntitlementException=o,i.valueToEntitlements=function(e){return e.reduce((e,i)=>{const t=n[i];if(!t)throw new o(`'${i}' is not supported. Only supports the following: ${Object.keys(n).join(", ")}`);return{...e,[t.name]:t.value}},{})}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.valueToBackgroundModes=i.BackgroundModeException=void 0;class n extends Error{}i.BackgroundModeException=n;const o={audio:"audio",location:"location",voip:"voip",accessory:"external-accessory",bluetoothCentral:"bluetooth-central",bluetoothPeripheral:"bluetooth-peripheral",fetch:"fetch",notification:"remote-notification",processing:"processing"};i.valueToBackgroundModes=function(e){return e.map(e=>{const i=o[e];if(!i)throw new n(`'${e}' is not supported. Only supports the following: ${Object.keys(o).join(", ")}`);return i})}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.executeMappers=void 0;const n=t(36);function o(e){try{return e()}catch(e){return}}i.executeMappers=function(e,i,t){var r;const a=n.combineMappers(e);for(const[e,n]of Object.entries(a))t(e,n(null!==(r=o(()=>i(e)))&&void 0!==r?r:""))}},function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),o=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return o(i,e),i};Object.defineProperty(i,"__esModule",{value:!0}),i.combineMappers=void 0;const a=r(t(0));i.combineMappers=function(e){return e.reduce((e,i)=>{const t=a.normalize(i.path);if(!t)return e;const n=e[t];return{...e,[t]:e=>{var t;return i.map(null!==(t=null==n?void 0:n.call(null,e))&&void 0!==t?t:e)}}},{})}},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.combineConfigurationConverters=void 0;const n=t(6);i.combineConfigurationConverters=function(e,i,t){if(!Object.keys(t).length)throw new n.FatalError(`Converters cannot be empty when converting from ${e} to ${i}`);if(e>i)throw new n.FatalError(`Downgrading from ${e} to ${i} is not supported`);const o=[];for(let r=i-1;r>=e;r--){const a=t[r];if(!a)throw new n.FatalError(`No available converter from version ${e} to ${i}`);o.push(a)}return o.reduceRight((e,i)=>t=>i(e(t)),e=>e)}}]);